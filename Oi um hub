-- Spy de RemoteEvent e RemoteFunction
local RS = game:GetService("ReplicatedStorage")

-- Função para logar no Delta e Roblox console
local function logRemote(name, args)
    local txt = "[SPY] " .. name
    warn(txt)
    print(txt)
    for i, v in ipairs(args) do
        local linha = "  Arg" .. i .. ": " .. tostring(v)
        warn(linha)
        print(linha)
    end
end

-- Hook RemoteEvent
for _, r in pairs(RS:GetDescendants()) do
    if r:IsA("RemoteEvent") then
        local old = r.FireServer
        r.FireServer = function(self, ...)
            local args = {...}
            logRemote("RemoteEvent: " .. self:GetFullName(), args)
            return old(self, ...)
        end
    elseif r:IsA("RemoteFunction") then
        local old = r.InvokeServer
        r.InvokeServer = function(self, ...)
            local args = {...}
            logRemote("RemoteFunction: " .. self:GetFullName(), args)
            return old(self, ...)
        end
    end
end

warn("[SPY] Monitoramento de RemoteEvents e RemoteFunctions ativado!")
